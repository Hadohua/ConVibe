__d(function(_g,_r,_i,_a,_m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"CaptchaScreen",{enumerable:!0,get:function(){return i}}),Object.defineProperty(_e,"CaptchaScreenView",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return i}});var e=_r(_d[0]),t=_r(_d[1]),r=_r(_d[2]),a=_r(_d[3]),n=_r(_d[4]),s=_r(_d[5]);_r(_d[6]),_r(_d[7]),_r(_d[8]),_r(_d[9]),_r(_d[10]),_r(_d[11]),_r(_d[12]),_r(_d[13]),_r(_d[14]),_r(_d[15]),_r(_d[16]),_r(_d[17]),_r(_d[18]),_r(_d[19]),_r(_d[20]),_r(_d[21]),_r(_d[22]),_r(_d[23]),_r(_d[24]),_r(_d[25]),_r(_d[26]),_r(_d[27]),_r(_d[28]),_r(_d[29]),_r(_d[30]),_r(_d[31]),_r(_d[32]),_r(_d[33]),_r(_d[34]),_r(_d[35]),_r(_d[36]),_r(_d[37]),_r(_d[38]),_r(_d[39]),_r(_d[40]),_r(_d[41]),_r(_d[42]),_r(_d[43]),_r(_d[44]),_r(_d[45]),_r(_d[46]),_r(_d[47]),_r(_d[48]),_r(_d[49]);const u=({status:a,title:n,description:u,userIntentRequired:i,retriesRemaining:c,hasSelectedCta:o,onContinue:l,onRetry:d})=>{let g=(0,r.useMemo)(()=>{switch(a){case"loading":default:return;case"success":return i?{label:o?"Continuing...":"Continue",onClick:l,disabled:o,loading:o}:void 0;case"error":return c>0?{label:"Retry",onClick:d}:void 0}},[a,o,l,d]),f=(0,r.useMemo)(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"}[a]||"loading"),[a]);return(0,e.jsx)(s.S,{icon:"loading"===a||"ready"===a?void 0:"success"===a?t.CheckCircle:t.XCircle,iconVariant:f,title:n,subtitle:u,primaryCta:g,watermark:!0})},i={component:()=>{let{lastScreen:t,data:s,navigate:i,setModalData:c}=(0,n.a)(),{status:o,token:l,waitForResult:d,reset:g,execute:f}=(0,a.a)(),y=(0,r.useRef)([]),C=e=>{y.current=[e,...y.current]},[b,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>(C(setTimeout(m,1e3,!1)),()=>{y.current.forEach(e=>clearTimeout(e)),y.current=[]}),[]);let[S,h]=(0,r.useState)(""),[p,R]=(0,r.useState)("Checking that you are a human..."),[k,v]=(0,r.useState)(!1),[w,T]=(0,r.useState)(3),P=s?.captchaModalData,I=async e=>{try{await(P?.callback(e)),P?.onSuccessNavigateTo&&i(P?.onSuccessNavigateTo,!1)}catch(e){if(e instanceof a.C)return;c({errorModalData:{error:e,previousScreen:t||"LandingScreen"}}),i(P?.onErrorNavigateTo||"ErrorScreen",!1)}};return(0,r.useEffect)(()=>{"success"===o?C(setTimeout(async()=>{let e=await d();!e||P?.userIntentRequired||I(e)},1e3)):"ready"===o&&C(setTimeout(()=>{"ready"===o&&f()},500))},[o]),(0,r.useEffect)(()=>{if(!b)switch(o){case"success":h("Success!"),R("CAPTCHA passed successfully."),P?.userIntentRequired||setTimeout(()=>{v(!0),I(l)},2e3);break;case"loading":h(""),R("Checking that you are a human...");break;case"error":h("Something went wrong"),R(w<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[o,b,k]),(0,e.jsx)(u,{status:o,title:S,description:p,userIntentRequired:P?.userIntentRequired,retriesRemaining:w,hasSelectedCta:k,onContinue:()=>{v(!0),I(l)},onRetry:async()=>{if(w<=0)return;T(e=>e-1),g(),f();let e=await d();!e||P?.userIntentRequired||I(e)}})}}},5685,[5,7957,3,2128,2508,5243,2129,2310,2164,2293,2523,2524,2509,2510,6277,2537,2539,2511,6275,2540,792,1019,2621,2622,2623,2295,2683,2686,2689,2690,2691,2692,2900,4618,2341,4620,2132,4621,2326,7827,4873,4874,5244,5245,5246,5247,5248,5249,5250,5251]);