__d(function(_g,_r,_i,_a,_m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"ConnectOnlyStatusScreen",{enumerable:!0,get:function(){return w}}),Object.defineProperty(_e,"ConnectOnlyStatusScreenView",{enumerable:!0,get:function(){return d}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var e=_r(_d[0]),t=_r(_d[1]),n=_r(_d[2]),o=_r(_d[3]),a=_r(_d[4]),l=_r(_d[5]),r=_r(_d[6]),c=_r(_d[7]),i=_r(_d[8]),s=_r(_d[9]),u=_r(_d[10]);_r(_d[11]),_r(_d[12]),_r(_d[13]),_r(_d[14]),_r(_d[15]),_r(_d[16]),_r(_d[17]),_r(_d[18]),_r(_d[19]),_r(_d[20]),_r(_d[21]),_r(_d[22]),_r(_d[23]),_r(_d[24]),_r(_d[25]),_r(_d[26]),_r(_d[27]),_r(_d[28]),_r(_d[29]),_r(_d[30]),_r(_d[31]),_r(_d[32]),_r(_d[33]),_r(_d[34]),_r(_d[35]),_r(_d[36]),_r(_d[37]),_r(_d[38]),_r(_d[39]),_r(_d[40]),_r(_d[41]),_r(_d[42]),_r(_d[43]),_r(_d[44]),_r(_d[45]),_r(_d[46]),_r(_d[47]),_r(_d[48]),_r(_d[49]),_r(_d[50]),_r(_d[51]),_r(_d[52]);const d=({walletLogo:t,success:n,errorMessage:a,title:l,subtitle:r,onRetry:c,onUseDifferentWallet:s,onBack:u,numRetries:d,maxRetries:w})=>(0,e.jsx)(i.S,{title:l,subtitle:r,icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!a},primaryCta:a===o.C.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:s}:!n&&a?.retryable&&d<w?{label:"Retry",onClick:c,disabled:!a?.retryable||d>=w}:!n&&a&&d>=w?{label:"Use a different wallet",onClick:s}:void 0,onBack:u,watermark:!0}),w={component:()=>{let o,{navigateBack:i,navigate:w,lastScreen:f,currentScreen:m,data:g,setModalData:p}=(0,c.a)(),{walletConnectionStatus:y,closePrivyModal:b}=(0,r.u)(),[C,k]=(0,t.useState)(void 0),[S,h]=(0,t.useState)(0),v=(0,l.Q)(y?.connector?.walletClientType||"unknown"),T="connected"===y?.status,_="switching_to_supported_chain"===y?.status;(0,t.useEffect)(()=>{if(T){let e;if(g?.externalConnectWallet?.onCompleteNavigateTo){let t=g.externalConnectWallet.onCompleteNavigateTo,n=y.connectedWallet?.address;e=setTimeout(()=>{if(g.funding&&y.connector){let e=y.connector.wallets.find(e=>e.address===n);p(Object.assign({},g,{funding:Object.assign({},g.funding,{connectedWallet:e})}))}w(t({address:n,walletClientType:y.connector?.walletClientType,walletChainType:y.connector?.chainType}))},a.q)}else e=setTimeout(b,a.q);return()=>clearTimeout(e)}},[T]),(0,t.useEffect)(()=>{var e;y?.connectError&&(e=y?.connectError,k((0,u.getErrorDetails)(e)))},[y]);let R=y?.connector?.connectorType||"injected",j=y?.connector?.walletClientType||"unknown",O=v?.metadata?.shortName||v?.name||y?.connector?.walletBranding.name||"Browser Extension",x=v?.image_url?.md||y?.connector?.walletBranding.icon||(t=>(0,e.jsx)(s.B,Object.assign({},t))),E="Browser Extension"===O?O.toLowerCase():O;o=T?`Successfully connected with ${E}`:C?C.message:_?"Switching networks":`Waiting for ${E}`;let B="Don\u2019t see your wallet? Check your other browser windows.";return T?B="You\u2019re good to go!":S>=2&&C?B="Unable to connect wallet":C?B=C.detail:_?B="Switch your wallet to the requested network.":"metamask"===j&&n.isMobile?B="Click to continue to open and connect MetaMask.":"metamask"===j?B="For the best experience, connect only one wallet at a time.":"wallet_connect_v2"===R?B="Open your mobile wallet app to continue":"coinbase_wallet"===R&&(B="Confirm in the Coinbase app/popup to continue."),(0,e.jsx)(d,{walletName:O,walletLogo:x,success:T,errorMessage:C,title:o,subtitle:B,onRetry:()=>{h(S+1),k(void 0),y?.connectRetry()},onUseDifferentWallet:i,onBack:m===f?void 0:i,numRetries:S,maxRetries:2})}}},4215,[16,14,1589,1591,1557,1564,1559,1556,4572,783,4217,784,1341,1558,1565,1568,1592,943,1160,1593,1594,1560,4573,4574,4575,4576,4577,4578,4579,4580,1358,819,1595,1343,1654,1657,1660,1661,1662,1663,1871,3739,1389,3741,787,3742,1374,3748,3894,3895,4626,4590,4581]);