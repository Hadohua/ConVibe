__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var c=r(d[2]);Object.keys(c).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var o=r(d[3]);Object.keys(o).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var u=r(d[4]);Object.keys(u).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var f=r(d[5]);Object.keys(f).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var l=r(d[6]);Object.keys(l).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var b=r(d[7]);Object.keys(b).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})});var p=r(d[8]);Object.keys(p).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=r(d[9]);Object.keys(y).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})})},4200,[4549,4559,4552,4562,4560,4551,4550,4557,4556,4563]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.startRegistration=async function(p){!p.optionsJSON&&p.challenge&&(console.warn('startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information.'),p={optionsJSON:p});const{optionsJSON:f,useAutoRegister:b=!1}=p;if(!(0,n.browserSupportsWebAuthn)())throw new Error('WebAuthn is not supported in this browser');const y=Object.assign({},f,{challenge:(0,o.base64URLStringToBuffer)(f.challenge),user:Object.assign({},f.user,{id:(0,o.base64URLStringToBuffer)(f.user.id)}),excludeCredentials:f.excludeCredentials?.map(s.toPublicKeyCredentialDescriptor)}),w={};b&&(w.mediation='conditional');let A;w.publicKey=y,w.signal=l.WebAuthnAbortService.createNewAbortSignal();try{A=await navigator.credentials.create(w)}catch(t){throw(0,c.identifyRegistrationError)({error:t,options:w})}if(!A)throw new Error('Registration was not completed');const{id:S,rawId:R,response:K,type:O}=A;let T;'function'==typeof K.getTransports&&(T=K.getTransports());let P;if('function'==typeof K.getPublicKeyAlgorithm)try{P=K.getPublicKeyAlgorithm()}catch(t){h('getPublicKeyAlgorithm()',t)}let B,D;if('function'==typeof K.getPublicKey)try{const o=K.getPublicKey();null!==o&&(B=(0,t.bufferToBase64URLString)(o))}catch(t){h('getPublicKey()',t)}if('function'==typeof K.getAuthenticatorData)try{D=(0,t.bufferToBase64URLString)(K.getAuthenticatorData())}catch(t){h('getAuthenticatorData()',t)}return{id:S,rawId:(0,t.bufferToBase64URLString)(R),response:{attestationObject:(0,t.bufferToBase64URLString)(K.attestationObject),clientDataJSON:(0,t.bufferToBase64URLString)(K.clientDataJSON),transports:T,publicKeyAlgorithm:P,publicKey:B,authenticatorData:D},type:O,clientExtensionResults:A.getClientExtensionResults(),authenticatorAttachment:(0,u.toAuthenticatorAttachment)(A.authenticatorAttachment)}};var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),l=r(d[5]),u=r(d[6]);function h(t,o){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${t}. You should report this error to them.\n`,o)}},4549,[4550,4551,4552,4553,4554,4557,4558]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.bufferToBase64URLString=function(t){const n=new Uint8Array(t);let o='';for(const t of n)o+=String.fromCharCode(t);return btoa(o).replace(/\+/g,'-').replace(/\//g,'_').replace(/=/g,'')}},4550,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.base64URLStringToBuffer=function(t){const n=t.replace(/-/g,'+').replace(/_/g,'/'),l=(4-n.length%4)%4,o=n.padEnd(n.length+l,'='),c=atob(o),f=new ArrayBuffer(c.length),u=new Uint8Array(f);for(let t=0;t<c.length;t++)u[t]=c.charCodeAt(t);return f}},4551,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.browserSupportsWebAuthn=function(){return t.stubThis(void 0!==globalThis?.PublicKeyCredential&&'function'==typeof globalThis.PublicKeyCredential)},Object.defineProperty(e,"_browserSupportsWebAuthnInternals",{enumerable:!0,get:function(){return t}});const t={stubThis:t=>t}},4552,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.toPublicKeyCredentialDescriptor=function(n){const{id:s}=n;return Object.assign({},n,{id:(0,t.base64URLStringToBuffer)(s),transports:n.transports})};var t=r(d[0])},4553,[4551]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.identifyRegistrationError=function({error:o,options:s}){const{publicKey:u}=s;if(!u)throw Error('options was missing required publicKey property');if('AbortError'===o.name){if(s.signal instanceof AbortSignal)return new n.WebAuthnError({message:'Registration ceremony was sent an abort signal',code:'ERROR_CEREMONY_ABORTED',cause:o})}else if('ConstraintError'===o.name){if(!0===u.authenticatorSelection?.requireResidentKey)return new n.WebAuthnError({message:'Discoverable credentials were required but no available authenticator supported it',code:'ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT',cause:o});if('conditional'===s.mediation&&'required'===u.authenticatorSelection?.userVerification)return new n.WebAuthnError({message:'User verification was required during automatic registration but it could not be performed',code:'ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE',cause:o});if('required'===u.authenticatorSelection?.userVerification)return new n.WebAuthnError({message:'User verification was required but no available authenticator supported it',code:'ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT',cause:o})}else{if('InvalidStateError'===o.name)return new n.WebAuthnError({message:'The authenticator was previously registered',code:'ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED',cause:o});if('NotAllowedError'===o.name)return new n.WebAuthnError({message:o.message,code:'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',cause:o});if('NotSupportedError'===o.name){return 0===u.pubKeyCredParams.filter(t=>'public-key'===t.type).length?new n.WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:'ERROR_MALFORMED_PUBKEYCREDPARAMS',cause:o}):new n.WebAuthnError({message:'No available authenticator supported any of the specified pubKeyCredParams algorithms',code:'ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG',cause:o})}if('SecurityError'===o.name){const s=globalThis.location.hostname;if(!(0,t.isValidDomain)(s))return new n.WebAuthnError({message:`${globalThis.location.hostname} is an invalid domain`,code:'ERROR_INVALID_DOMAIN',cause:o});if(u.rp.id!==s)return new n.WebAuthnError({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:'ERROR_INVALID_RP_ID',cause:o})}else if('TypeError'===o.name){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new n.WebAuthnError({message:'User ID was not between 1 and 64 characters',code:'ERROR_INVALID_USER_ID_LENGTH',cause:o})}else if('UnknownError'===o.name)return new n.WebAuthnError({message:'The authenticator was unable to process the specified options, or could not create a new credential',code:'ERROR_AUTHENTICATOR_GENERAL_ERROR',cause:o})}return o};var t=r(d[0]),n=r(d[1])},4554,[4555,4556]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isValidDomain=function(t){return'localhost'===t||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}},4555,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"WebAuthnError",{enumerable:!0,get:function(){return t}});class t extends Error{constructor({message:t,code:n,cause:c,name:o}){super(t,{cause:c}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o??c.name,this.code=n}}},4556,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"WebAuthnAbortService",{enumerable:!0,get:function(){return t}});const t=new class{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const t=new Error('Cancelling existing WebAuthn API call for new one');t.name='AbortError',this.controller.abort(t)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error('Manually cancelling existing WebAuthn API call');t.name='AbortError',this.controller.abort(t),this.controller=void 0}}}},4557,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.toAuthenticatorAttachment=function(n){if(!n)return;if(t.indexOf(n)<0)return;return n};const t=['cross-platform','platform']},4558,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.startAuthentication=async function(p){!p.optionsJSON&&p.challenge&&(console.warn('startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information.'),p={optionsJSON:p});const{optionsJSON:w,useBrowserAutofill:f=!1,verifyBrowserAutofillInput:b=!0}=p;if(!(0,n.browserSupportsWebAuthn)())throw new Error('WebAuthn is not supported in this browser');let A;0!==w.allowCredentials?.length&&(A=w.allowCredentials?.map(l.toPublicKeyCredentialDescriptor));const S=Object.assign({},w,{challenge:(0,o.base64URLStringToBuffer)(w.challenge),allowCredentials:A}),y={};if(f){if(!await(0,s.browserSupportsWebAuthnAutofill)())throw Error('Browser does not support WebAuthn autofill');if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&b)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');y.mediation='conditional',S.allowCredentials=[]}let B;y.publicKey=S,y.signal=c.WebAuthnAbortService.createNewAbortSignal();try{B=await navigator.credentials.get(y)}catch(t){throw(0,u.identifyAuthenticationError)({error:t,options:y})}if(!B)throw new Error('Authentication was not completed');const{id:v,rawId:R,response:E,type:N}=B;let O;E.userHandle&&(O=(0,t.bufferToBase64URLString)(E.userHandle));return{id:v,rawId:(0,t.bufferToBase64URLString)(R),response:{authenticatorData:(0,t.bufferToBase64URLString)(E.authenticatorData),clientDataJSON:(0,t.bufferToBase64URLString)(E.clientDataJSON),signature:(0,t.bufferToBase64URLString)(E.signature),userHandle:O},type:N,clientExtensionResults:B.getClientExtensionResults(),authenticatorAttachment:(0,h.toAuthenticatorAttachment)(B.authenticatorAttachment)}};var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]),h=r(d[7])},4559,[4550,4551,4552,4560,4553,4561,4557,4558]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.browserSupportsWebAuthnAutofill=function(){if(!(0,t.browserSupportsWebAuthn)())return n.stubThis(new Promise(t=>t(!1)));const o=globalThis.PublicKeyCredential;if(void 0===o?.isConditionalMediationAvailable)return n.stubThis(new Promise(t=>t(!1)));return n.stubThis(o.isConditionalMediationAvailable())},Object.defineProperty(e,"_browserSupportsWebAuthnAutofillInternals",{enumerable:!0,get:function(){return n}});var t=r(d[0]);const n={stubThis:t=>t}},4560,[4552]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.identifyAuthenticationError=function({error:t,options:s}){const{publicKey:u}=s;if(!u)throw Error('options was missing required publicKey property');if('AbortError'===t.name){if(s.signal instanceof AbortSignal)return new o.WebAuthnError({message:'Authentication ceremony was sent an abort signal',code:'ERROR_CEREMONY_ABORTED',cause:t})}else{if('NotAllowedError'===t.name)return new o.WebAuthnError({message:t.message,code:'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',cause:t});if('SecurityError'===t.name){const s=globalThis.location.hostname;if(!(0,n.isValidDomain)(s))return new o.WebAuthnError({message:`${globalThis.location.hostname} is an invalid domain`,code:'ERROR_INVALID_DOMAIN',cause:t});if(u.rpId!==s)return new o.WebAuthnError({message:`The RP ID "${u.rpId}" is invalid for this domain`,code:'ERROR_INVALID_RP_ID',cause:t})}else if('UnknownError'===t.name)return new o.WebAuthnError({message:'The authenticator was unable to process the specified options, or could not create a new assertion signature',code:'ERROR_AUTHENTICATOR_GENERAL_ERROR',cause:t})}return t};var n=r(d[0]),o=r(d[1])},4561,[4555,4556]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.platformAuthenticatorIsAvailable=function(){if(!(0,t.browserSupportsWebAuthn)())return new Promise(t=>t(!1));return PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()};var t=r(d[0])},4562,[4552]);
__d(function(g,r,i,a,m,e,d){},4563,[]);