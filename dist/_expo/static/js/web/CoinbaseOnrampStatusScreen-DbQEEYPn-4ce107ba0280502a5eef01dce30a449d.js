__d(function(g,_r,_i,_a,_m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"CoinbaseOnrampStatusScreen",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var n=_r(_d[0]),r=e(_r(_d[1])),t=e(_r(_d[2])),o=_r(_d[3]),a=_r(_d[4]),i=_r(_d[5]),s=_r(_d[6]),c=_r(_d[7]),d=_r(_d[8]),l=_r(_d[9]),u=_r(_d[10]),f=_r(_d[11]),m=_r(_d[12]);_r(_d[13]),_r(_d[14]),_r(_d[15]),_r(_d[16]),_r(_d[17]),_r(_d[18]),_r(_d[19]),_r(_d[20]),_r(_d[21]),_r(_d[22]),_r(_d[23]),_r(_d[24]),_r(_d[25]),_r(_d[26]),_r(_d[27]),_r(_d[28]),_r(_d[29]),_r(_d[30]),_r(_d[31]),_r(_d[32]),_r(_d[33]),_r(_d[34]),_r(_d[35]),_r(_d[36]),_r(_d[37]),_r(_d[38]),_r(_d[39]),_r(_d[40]),_r(_d[41]),_r(_d[42]),_r(_d[43]),_r(_d[44]),_r(_d[45]),_r(_d[46]),_r(_d[47]),_r(_d[48]),_r(_d[49]);const p={component:()=>{let{data:e,setModalData:r,navigate:t,navigateBack:a}=(0,u.a)(),{closePrivyModal:i,createAnalyticsEvent:s,client:c}=(0,l.u)(),[m,p]=(0,o.useState)("pending-in-flow"),y=(0,o.useRef)(0),v={...e?.funding,showAlternateFundingMethod:!0};v.usingDefaultFundingMethod&&(v.usingDefaultFundingMethod=!1);let{partnerUserId:b,popup:j}=e?.coinbaseOnrampStatus??{};return(0,o.useEffect)(()=>{if("pending-in-flow"===m||"pending-after-flow"===m){let n=setInterval(async()=>{if(b)try{let{status:n}=await c.getCoinbaseOnRampStatus({partnerUserId:b});if("success"===n)return void p("success");if("failure"===n)throw Error("There was an error completing Coinbase Onramp flow.");if(y.current>=3)return r({funding:v,solanaFundingData:e?.solanaFundingData}),void t("FundingMethodSelectionScreen");j?.closed&&(y.current=y.current+1,p("pending-after-flow"))}catch(n){console.error(n),p("error"),s({eventName:f.O,payload:{status:"failure",provider:"coinbase-onramp",error:n.message}}),r({funding:{...v,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:e?.solanaFundingData}),t("FundingMethodSelectionScreen")}},1500);return()=>clearInterval(n)}},[b,j,m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.M,{title:"Fund account",backFn:()=>{r({funding:v,solanaFundingData:e?.solanaFundingData}),a()}},"header"),(0,n.jsx)(h,{status:m,onClickCta:i}),(0,n.jsx)(d.B,{})]})}};let h=({status:e,onClickCta:r})=>{let{title:t,body:a,cta:c}=(0,o.useMemo)(()=>(e=>{switch(e){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(e),[e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(b,{children:[(0,n.jsx)(y,{isSucccess:"success"===e}),(0,n.jsxs)(s.a,{children:[(0,n.jsx)("h3",{children:t}),(0,n.jsx)(v,{children:a})]})]}),c&&(0,n.jsx)(i.P,{onClick:r,children:c})]})},y=({isSucccess:e})=>{if(!e){let e="var(--privy-color-foreground-4)";return(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)(c.L,{color:e,style:{position:"absolute"}}),(0,n.jsx)(c.a7,{color:e}),(0,n.jsx)(m.G,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let o=e?t.default:()=>(0,n.jsx)(r.default,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}),a=e?"var(--privy-color-success)":"var(--privy-color-foreground-4)";return(0,n.jsx)("div",{style:{borderColor:a,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:o&&(0,n.jsx)(o,{width:"4rem",height:"4rem",color:a})})},v=a.styled.p.withConfig({displayName:"StatusBody",componentId:"sc-e4350fdc-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),b=a.styled.div.withConfig({displayName:"ConnectContainer",componentId:"sc-e4350fdc-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"])},5686,[5,5687,5688,3,6277,5244,5648,2523,5246,2511,2508,5653,2128,2524,2509,2129,2510,2537,2539,2293,2540,792,1019,2621,2622,5247,5248,5249,5250,6275,2310,2164,2623,2295,2683,2686,2689,2690,2691,2692,2900,4618,2341,4620,2132,4621,2326,7827,4873,4874]);