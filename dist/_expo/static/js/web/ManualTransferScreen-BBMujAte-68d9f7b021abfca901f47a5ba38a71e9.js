__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"ManualTransferScreen",{enumerable:!0,get:function(){return w}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var e,n=_r(d[0]),s=(e=n)&&e.__esModule?e:{default:e},r=_r(d[1]),t=_r(d[2]),i=_r(d[3]),c=_r(d[4]),o=_r(d[5]),u=_r(d[6]),l=_r(d[7]),f=_r(d[8]),p=_r(d[9]),h=_r(d[10]),v=_r(d[11]),y=_r(d[12]),C=_r(d[13]),S=_r(d[14]),T=_r(d[15]),b=_r(d[16]),j=_r(d[17]),D=_r(d[18]),I=_r(d[19]),A=_r(d[20]),M=_r(d[21]),x=_r(d[22]),F=_r(d[23]),U=_r(d[24]),k=_r(d[25]);_r(d[26]),_r(d[27]),_r(d[28]),_r(d[29]),_r(d[30]),_r(d[31]),_r(d[32]),_r(d[33]),_r(d[34]),_r(d[35]),_r(d[36]),_r(d[37]),_r(d[38]),_r(d[39]),_r(d[40]),_r(d[41]),_r(d[42]),_r(d[43]),_r(d[44]),_r(d[45]),_r(d[46]),_r(d[47]),_r(d[48]),_r(d[49]),_r(d[50]),_r(d[51]),_r(d[52]),_r(d[53]),_r(d[54]),_r(d[55]),_r(d[56]),_r(d[57]),_r(d[58]),_r(d[59]),_r(d[60]),_r(d[61]),_r(d[62]),_r(d[63]),_r(d[64]),_r(d[65]),_r(d[66]),_r(d[67]);const w={component:()=>{let{wallets:e}=(0,I.u)(),{connectors:n}=(0,b.u)(),s=n.filter(T.v).flatMap(e=>e.wallets),{data:w,setModalData:$,navigate:B,lastScreen:E}=(0,j.a)(),{rpcConfig:P,appId:_,createAnalyticsEvent:L,closePrivyModal:z}=(0,b.u)(),N=(0,S.u)(),[R,W]=(0,t.useState)(void 0),[q,H]=(0,t.useState)(!1),Q=w?.funding,{reloadBalance:Y}=(0,D.u)({rpcConfig:P,appId:_,address:"ethereum"===Q.chainType?Q.address:void 0,chain:"ethereum"===Q.chainType?Q.chain:void 0}),G="solana"===Q.chainType,J=G?Q.isUSDC?"USDC":"SOL":Q.erc20Address?Q.erc20ContractInfo?.symbol:Q.chain.nativeCurrency.symbol,K=G?s.find(({address:e})=>e===Q.address):e.find(({address:e})=>(0,T.D)(e)===(0,T.D)(Q.address));if(!Q)return $({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:E||"FundingMethodSelectionScreen"},funding:w?.funding,solanaFundingData:w?.solanaFundingData,sendTransaction:w?.sendTransaction}),B("ErrorScreen"),(0,r.jsx)(r.Fragment,{});(0,t.useEffect)(()=>{let e=G?async function(){if("solana"!==Q.chainType)return;let e=N.solanaRpcs[Q.chain];e?(Q.isUSDC?(async function({rpc:e,address:n,mintAddress:s}){let r=await e.getTokenAccountsByOwner(n,{mint:s},{encoding:"jsonParsed",commitment:"confirmed"}).send(),t=r.value[0]?.account;return t?BigInt(t.data.parsed.info.tokenAmount.amount):0n})({rpc:e.rpc,address:Q.address,mintAddress:(0,F.g)(Q.chain)}):(0,M.z)({rpc:e.rpc,address:Q.address})).then(e=>{let n=BigInt(e);R&&n>R&&(H(!0),L({eventName:A.O,payload:{provider:"manual",status:"success",chainType:"solana",address:K?.address,value:Q.isUSDC?(0,i.formatUnits)(n-R,6):(0,i.formatUnits)(n-R,9),token:Q.isUSDC?"USDC":"SOL"}})),W(n)}):console.warn("Unable to load solana rpc, skipping balance")}:async function(){"ethereum"===Q.chainType&&(async()=>{if(!Q.erc20Address)return await Y()??BigInt(0);{let{balance:e}=await(0,k.g)({chain:Q.chain,address:Q.address,erc20Address:Q.erc20Address,rpcConfig:P,appId:_});return e}})().then(e=>{R&&e>R&&(H(!0),L({eventName:A.O,payload:{provider:"manual",status:"success",chainType:"ethereum",address:K?.address,chainId:Q.chain.id,value:(0,i.formatUnits)(e-R,Q.erc20ContractInfo?.decimals??18),token:Q.erc20ContractInfo?.symbol??Q.erc20Address??"ETH"}})),W(e)}).catch(()=>W(void 0))},n=setInterval(e,2e3);return e(),()=>clearInterval(n)},[R]);let V=(0,t.useMemo)(()=>null==R?"":Q.isUSDC?(0,c.formatTokenAmount)({amount:R,decimals:6}):G?(0,U.g)(R,3,!0,!0):null!=Q.erc20ContractInfo?.decimals?(0,c.formatTokenAmount)({amount:R,decimals:Q.erc20ContractInfo.decimals}):(0,c.formatWeiAmount)({wei:R}),[R,G,Q]),X="ethereum"===Q.chainType?Q.chain.name:(0,x.g)(Q.chain),Z=(0,t.useMemo)(()=>""===Q.uiConfig?.receiveFundsTitle?null:(0,r.jsx)(y.T,{children:Q.uiConfig?.receiveFundsTitle??`Receive ${Q.amount} ${J??""}`.trim()}),[Q.uiConfig?.receiveFundsTitle,Q.amount,J]),ee=(0,t.useMemo)(()=>""===Q.uiConfig?.receiveFundsSubtitle?null:(0,r.jsx)(v.S,{children:Q.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${X}.`}),[Q.uiConfig?.receiveFundsSubtitle,X]),ne="solana"===Q.chainType&&Q.isUSDC&&(0,F.g)(Q.chain)?`?spl-token=${(0,F.g)(Q.chain)}`:"";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.t,{}),Z,ee,(0,r.jsxs)(u.F,{style:{gap:"1rem",margin:Z||ee?"1rem 0":"0"},children:[(0,r.jsx)(f.Q,{url:`${Q.chainType}:${Q.address}${ne}`,size:200,squareLogoElement:O}),(0,r.jsxs)(h.I,{theme:N.appearance.palette.colorScheme,children:["Make sure to send funds on ",X,"."]}),(0,r.jsx)(C.W,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${V} ${J}`,address:Q.address}),q&&(0,r.jsx)(o.P,{onClick:()=>z({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),(0,r.jsx)(l.B,{})]})}};let O=e=>{let n=Object.assign({},((0,s.default)(e),e));return(0,r.jsx)(M.D,Object.assign({color:"black"},n))}},4242,[21,16,14,943,784,4573,4593,4575,4586,4595,4667,4609,4610,4639,1557,1564,1559,1556,4676,1594,4597,783,4599,4662,4600,4605,1568,4576,4577,4578,4579,4587,4671,4571,4589,4640,4621,4615,1558,1565,1589,1591,1341,1592,1160,1593,1560,1358,819,1595,1343,1654,1657,1660,1661,1662,1663,1871,3739,1389,3741,787,3742,1374,3748,3894,3895,4604]);