__d(function(g,r,_i,_a,m,_e,d){"use strict";const e=["delayedExecution","captchaContext"];Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"TurnstileWrapper",{enumerable:!0,get:function(){return a}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return a}});var t,n=r(d[0]),o=(t=n)&&t.__esModule?t:{default:t},s=r(d[1]),c=r(d[2]);const a=t=>{let{delayedExecution:n,captchaContext:a}=t,i=(0,o.default)(t,e),{appId:u,setError:p,setToken:l,setExecuting:f,siteKey:x,ref:y}=a;return(0,s.jsx)(c.Turnstile,Object.assign({},i,{ref:y,siteKey:x??"",options:Object.assign({action:u,size:"invisible"},n?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}),onUnsupported:()=>{i.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:e=>{i.onError?.(e),p("Captcha failed"),f(!1)},onSuccess:e=>{i.onSuccess?.(e),l(e),f(!1)},onExpire:e=>{i.onExpire?.(e);try{y.current?.reset(),p(void 0),l(void 0)}catch(e){p("expired_and_failed_reset")}}}))}},4201,[289,16,4564]);
__d(function(_g,_r,_i,_a,_m,_e,_d){"use strict";const e=["as"],r=["scriptOptions","options","siteKey","onWidgetLoad","onSuccess","onExpire","onError","onBeforeInteractive","onAfterInteractive","onUnsupported","onTimeout","onLoadScript","id","style","as","injectScript","rerenderOnCallbackChange"];Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"DEFAULT_CONTAINER_ID",{enumerable:!0,get:function(){return d}}),Object.defineProperty(_e,"DEFAULT_ONLOAD_NAME",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,"DEFAULT_SCRIPT_ID",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"SCRIPT_URL",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"Turnstile",{enumerable:!0,get:function(){return E}});var n,t=_r(_d[0]),o=(n=t)&&n.__esModule?n:{default:n},i=_r(_d[1]),c=_r(_d[2]),a=(r,n)=>{let{as:t="div"}=r,i=(0,o.default)(r,e);return(0,c.jsx)(t,Object.assign({},i,{ref:n}))},u=(0,i.forwardRef)(a),s="https://challenges.cloudflare.com/turnstile/v0/api.js",l="cf-turnstile-script",d="cf-turnstile",f="onloadTurnstileCallback",p=e=>!!document.getElementById(e),b=({render:e="explicit",onLoadCallbackName:r=f,scriptOptions:{nonce:n="",defer:t=!0,async:o=!0,id:i="",appendTo:c,onError:a,crossOrigin:u=""}={}})=>{let d=i||l;if(p(d))return;let b=document.createElement("script");b.id=d,b.src=`${s}?onload=${r}&render=${e}`,document.querySelector(`script[src="${b.src}"]`)||(b.defer=!!t,b.async=!!o,n&&(b.nonce=n),u&&(b.crossOrigin=u),a&&(b.onerror=a,delete window[r]),("body"===c?document.body:document.getElementsByTagName("head")[0]).appendChild(b))},m={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function w(e){if("invisible"!==e&&"interactionOnly"!==e)return e}function y(e=l){let[r,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let r=()=>{p(e)&&n(!0)},t=new MutationObserver(r);return t.observe(document,{childList:!0,subtree:!0}),r(),()=>{t.disconnect()}},[e]),r}var h,v="unloaded",g=new Promise((e,r)=>{h={resolve:e,reject:r},"ready"===v&&e(void 0)}),x=(e=f)=>("unloaded"===v&&(v="loading",window[e]=()=>{h.resolve(),v="ready",delete window[e]}),g),E=(0,i.forwardRef)((e,n)=>{let{scriptOptions:t,options:a={},siteKey:s,onWidgetLoad:p,onSuccess:h,onExpire:g,onError:E,onBeforeInteractive:T,onAfterInteractive:O,onUnsupported:I,onTimeout:k,onLoadScript:j,id:R,style:S,as:C="div",injectScript:L=!0,rerenderOnCallbackChange:_=!1}=e,N=(0,o.default)(e,r),P=a.size,A=(0,i.useCallback)(()=>typeof P>"u"?{}:"execute"===a.execution?m.invisible:"interaction-only"===a.appearance?m.interactionOnly:m[P],[a.execution,P,a.appearance]),[F,D]=(0,i.useState)(A()),U=(0,i.useRef)(null),[B,M]=(0,i.useState)(!1),$=(0,i.useRef)(void 0),W=(0,i.useRef)(!1),z=R||d,K=(0,i.useRef)({onSuccess:h,onError:E,onExpire:g,onBeforeInteractive:T,onAfterInteractive:O,onUnsupported:I,onTimeout:k});(0,i.useEffect)(()=>{_||(K.current={onSuccess:h,onError:E,onExpire:g,onBeforeInteractive:T,onAfterInteractive:O,onUnsupported:I,onTimeout:k})});let q=t?.id||l,H=y(q),G=t?.onLoadCallbackName||f,J=a.appearance||"always",Q=(0,i.useMemo)(()=>({sitekey:s,action:a.action,cData:a.cData,theme:a.theme||"auto",language:a.language||"auto",tabindex:a.tabIndex,"response-field":a.responseField,"response-field-name":a.responseFieldName,size:w(P),retry:a.retry||"auto","retry-interval":a.retryInterval||8e3,"refresh-expired":a.refreshExpired||"auto","refresh-timeout":a.refreshTimeout||"auto",execution:a.execution||"render",appearance:a.appearance||"always","feedback-enabled":a.feedbackEnabled||!0,callback:e=>{W.current=!0,_?h?.(e):K.current.onSuccess?.(e)},"error-callback":_?E:(...e)=>K.current.onError?.(...e),"expired-callback":_?g:(...e)=>K.current.onExpire?.(...e),"before-interactive-callback":_?T:(...e)=>K.current.onBeforeInteractive?.(...e),"after-interactive-callback":_?O:(...e)=>K.current.onAfterInteractive?.(...e),"unsupported-callback":_?I:(...e)=>K.current.onUnsupported?.(...e),"timeout-callback":_?k:(...e)=>K.current.onTimeout?.(...e)}),[a.action,a.appearance,a.cData,a.execution,a.language,a.refreshExpired,a.responseField,a.responseFieldName,a.retry,a.retryInterval,a.tabIndex,a.theme,a.feedbackEnabled,a.refreshTimeout,s,P,_,_?h:null,_?E:null,_?g:null,_?T:null,_?O:null,_?I:null,_?k:null]),V=(0,i.useCallback)(()=>typeof window<"u"&&!!window.turnstile,[]);return(0,i.useEffect)(function(){L&&!B&&b({onLoadCallbackName:G,scriptOptions:Object.assign({},t,{id:q})})},[L,B,t,q]),(0,i.useEffect)(function(){"ready"!==v&&x(G).then(()=>M(!0)).catch(console.error)},[]),(0,i.useEffect)(function(){if(!U.current||!B)return;let e=!1;return(async()=>{if(e||!U.current)return;let r=window.turnstile.render(U.current,Q);$.current=r,$.current&&p?.($.current)})(),()=>{e=!0,$.current&&(window.turnstile.remove($.current),W.current=!1)}},[z,B,Q]),(0,i.useImperativeHandle)(n,()=>{let{turnstile:e}=window;return{getResponse(){if(e?.getResponse&&$.current&&V())return e.getResponse($.current);console.warn("Turnstile has not been loaded")},getResponsePromise:async(e=3e4,r=100)=>new Promise((n,t)=>{let o,i=async()=>{if(W.current&&window.turnstile&&$.current)try{let e=window.turnstile.getResponse($.current);return o&&clearTimeout(o),e?n(e):t(new Error("No response received"))}catch(e){return o&&clearTimeout(o),console.warn("Failed to get response",e),t(new Error("Failed to get response"))}o||(o=setTimeout(()=>{o&&clearTimeout(o),t(new Error("Timeout"))},e)),await new Promise(e=>setTimeout(e,r)),await i()};i()}),reset(){if(e?.reset&&$.current&&V()){"execute"===a.execution&&D(m.invisible);try{W.current=!1,e.reset($.current)}catch(e){console.warn(`Failed to reset Turnstile widget ${$}`,e)}}else console.warn("Turnstile has not been loaded")},remove(){e?.remove&&$.current&&V()?(D(m.invisible),W.current=!1,e.remove($.current),$.current=null):console.warn("Turnstile has not been loaded")},render(){if(!e?.render||!U.current||!V()||$.current)return void console.warn("Turnstile has not been loaded or container not found");let r=e.render(U.current,Q);return $.current=r,$.current&&p?.($.current),"execute"!==a.execution&&D(P?m[P]:{}),r},execute(){"execute"===a.execution?e?.execute&&U.current&&$.current&&V()?(e.execute(U.current,Q),D(P?m[P]:{})):console.warn("Turnstile has not been loaded or container not found"):console.warn('Execution mode is not set to "execute"')},isExpired:()=>e?.isExpired&&$.current&&V()?e.isExpired($.current):(console.warn("Turnstile has not been loaded"),!1)}},[$,a.execution,P,Q,U,V,B,p]),(0,i.useEffect)(()=>{H&&!B&&window.turnstile&&M(!0)},[B,H]),(0,i.useEffect)(()=>{D(A())},[a.execution,P,J]),(0,i.useEffect)(()=>{!H||"function"!=typeof j||j()},[H]),(0,c.jsx)(u,Object.assign({ref:U,as:C,id:z,style:Object.assign({},F,S)},N))});E.displayName="Turnstile"},4564,[289,14,16]);