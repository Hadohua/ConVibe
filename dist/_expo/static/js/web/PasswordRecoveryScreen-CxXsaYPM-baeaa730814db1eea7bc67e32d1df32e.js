__d(function(g,_r,i,_a,_m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"PasswordRecoveryScreen",{enumerable:!0,get:function(){return v}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return v}});var e,t=_r(d[0]),r=_r(d[1]),s=(e=r)&&e.__esModule?e:{default:e},n=_r(d[2]),a=_r(d[3]),o=_r(d[4]),l=_r(d[5]),c=_r(d[6]),u=_r(d[7]),y=_r(d[8]),h=_r(d[9]),p=_r(d[10]);_r(d[11]),_r(d[12]),_r(d[13]),_r(d[14]),_r(d[15]),_r(d[16]),_r(d[17]),_r(d[18]),_r(d[19]),_r(d[20]),_r(d[21]),_r(d[22]),_r(d[23]),_r(d[24]),_r(d[25]),_r(d[26]),_r(d[27]),_r(d[28]),_r(d[29]),_r(d[30]),_r(d[31]),_r(d[32]),_r(d[33]),_r(d[34]),_r(d[35]),_r(d[36]),_r(d[37]),_r(d[38]),_r(d[39]),_r(d[40]),_r(d[41]),_r(d[42]),_r(d[43]),_r(d[44]),_r(d[45]),_r(d[46]),_r(d[47]),_r(d[48]),_r(d[49]),_r(d[50]),_r(d[51]),_r(d[52]),_r(d[53]);const v={component:()=>{let[e,r]=(0,n.useState)(!0),{authenticated:a,user:l}=(0,o.u)(),{walletProxy:v,closePrivyModal:w,createAnalyticsEvent:j,client:b}=(0,h.u)(),{navigate:S,data:C,onUserCloseViaDialogOrKeybindRef:P}=(0,o.a)(),[_,A]=(0,n.useState)(void 0),[I,N]=(0,n.useState)(""),[k,O]=(0,n.useState)(!1),{entropyId:T,entropyIdVerifier:E,onCompleteNavigateTo:M,onSuccess:R,onFailure:U}=C.recoverWallet,H=(e="User exited before their wallet could be recovered")=>{w({shouldCallAuthOnSuccess:!1}),U("string"==typeof e?new h.m(e):e)};return P.current=H,(0,n.useEffect)(()=>{if(!a)return H("User must be authenticated and have a Privy wallet before it can be recovered")},[a]),(0,t.jsxs)(p.S,{children:[(0,t.jsx)(p.S.Header,{icon:s.default,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:H}),(0,t.jsx)(p.S.Body,{children:(0,t.jsx)(f,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)(u.P,{children:[(0,t.jsx)(u.a,{type:e?"password":"text",onChange:e=>(e=>{e&&A(e)})(e.target.value),disabled:k,style:{paddingRight:"2.3rem"}}),(0,t.jsx)(u.I,{style:{right:"0.75rem"},children:e?(0,t.jsx)(u.H,{onClick:()=>r(!1)}):(0,t.jsx)(u.S,{onClick:()=>r(!0)})})]}),!!I&&(0,t.jsx)(m,{children:I})]})})}),(0,t.jsxs)(p.S.Footer,{children:[(0,t.jsx)(p.S.HelpText,{children:(0,t.jsxs)(c.S,{children:[(0,t.jsx)("h4",{children:"Why is this necessary?"}),(0,t.jsx)("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),(0,t.jsx)(p.S.Actions,{children:(0,t.jsx)(x,{loading:k||!v,disabled:!_,onClick:async()=>{O(!0);let e=await b.getAccessToken(),t=(0,o.h)(l,T);if(!e||!t||null===_)return H("User must be authenticated and have a Privy wallet before it can be recovered");try{j({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:t.address}}),await(v?.recover({accessToken:e,entropyId:T,entropyIdVerifier:E,recoveryPassword:_})),N(""),M?S(M):w({shouldCallAuthOnSuccess:!1}),R?.(t),j({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:t.address}})}catch(e){(0,y.r)(e)?N("Invalid recovery password, please try again."):N("An error has occurred, please try again.")}finally{O(!1)}},$hideAnimations:!T&&k,children:"Recover your account"})}),(0,t.jsx)(p.S.Watermark,{})]})]})}};let f=a.styled.div.withConfig({displayName:"Content",componentId:"sc-1247f710-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),m=a.styled.div.withConfig({displayName:"ErrorMessage",componentId:"sc-1247f710-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),x=(0,a.styled)(l.P).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-1247f710-2"})(["",""],({$hideAnimations:e})=>e&&(0,a.css)(["&&{transition:none;}"]))},4250,[16,4677,14,1568,1556,4573,4593,4645,783,1559,4574,943,1557,784,1558,1564,1565,1589,1591,1341,1592,1160,1593,1594,4646,4647,4648,1358,819,1595,1343,1654,1657,1660,1661,1662,1663,1871,3739,1560,1389,3741,787,3742,1374,3748,3894,3895,4575,4576,4577,4578,4579,4580]);