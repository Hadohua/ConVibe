__d(function(_g,_r,_i,_a,_m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"EmbeddedWalletKeyExportScreen",{enumerable:!0,get:function(){return g}}),Object.defineProperty(_e,"EmbeddedWalletKeyExportView",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return g}});var e=_r(_d[0]),t=_r(_d[1]),r=_r(_d[2]),o=_r(_d[3]),i=_r(_d[4]),n=_r(_d[5]),d=_r(_d[6]),l=_r(_d[7]),a=_r(_d[8]),c=_r(_d[9]);_r(_d[10]),_r(_d[11]),_r(_d[12]),_r(_d[13]),_r(_d[14]),_r(_d[15]),_r(_d[16]),_r(_d[17]),_r(_d[18]),_r(_d[19]),_r(_d[20]),_r(_d[21]),_r(_d[22]),_r(_d[23]),_r(_d[24]),_r(_d[25]),_r(_d[26]),_r(_d[27]),_r(_d[28]),_r(_d[29]),_r(_d[30]),_r(_d[31]),_r(_d[32]),_r(_d[33]),_r(_d[34]),_r(_d[35]),_r(_d[36]);const s=({address:t,accessToken:r,appConfigTheme:o,onClose:d,isLoading:l=!1,exportButtonProps:a})=>(0,e.jsx)(c.S,{title:"Export wallet",subtitle:(0,e.jsxs)(e.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",(0,e.jsx)("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:d,watermark:!0,children:(0,e.jsxs)(p,{children:[(0,e.jsx)(i.W,{theme:o,children:"Never share your private key or seed phrase with anyone."}),(0,e.jsx)(n.W,{title:"Your wallet",address:t,showCopyButton:!0}),(0,e.jsx)("div",{style:{width:"100%"},children:l?(0,e.jsx)(u,{}):r&&a&&(0,e.jsx)(f,{accessToken:r,dimensions:{height:"44px"},...a})})]})});let p=r.styled.div.withConfig({displayName:"ContentContainer",componentId:"sc-b9fde557-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),u=()=>(0,e.jsx)(y,{children:(0,e.jsx)(h,{children:"Loading..."})}),y=r.styled.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-b9fde557-1"})(["display:flex;gap:12px;height:44px;"]),h=r.styled.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-b9fde557-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function f(r){let[i,n]=(0,t.useState)(r.dimensions.width),[d,l]=(0,t.useState)(void 0),a=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(a.current&&void 0===i){let{width:e}=a.current.getBoundingClientRect();n(e)}let e=getComputedStyle(document.documentElement);l({background:e.getPropertyValue("--privy-color-background"),background2:e.getPropertyValue("--privy-color-background-2"),foreground3:e.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:e.getPropertyValue("--privy-color-foreground-accent"),accent:e.getPropertyValue("--privy-color-accent"),accentDark:e.getPropertyValue("--privy-color-accent-dark"),success:e.getPropertyValue("--privy-color-success"),colorScheme:e.getPropertyValue("color-scheme")})},[]);let c="ethereum"===r.chainType&&!r.imported&&!r.isUnifiedWallet;return(0,e.jsx)("div",{ref:a,children:i&&(0,e.jsxs)(x,{children:[(0,e.jsx)("iframe",{style:{position:"absolute",zIndex:1},width:i,height:r.dimensions.height,allow:"clipboard-write self *",src:(0,o.constructURL)({origin:r.origin,path:`/apps/${r.appId}/embedded-wallets/export`,query:r.isUnifiedWallet?{v:"1-unified",wallet_id:r.walletId,client_id:r.appClientId,width:`${i}px`,caid:r.clientAnalyticsId,phrase_export:c,...d}:{v:"1",entropy_id:r.entropyId,entropy_id_verifier:r.entropyIdVerifier,hd_wallet_index:r.hdWalletIndex,chain_type:r.chainType,client_id:r.appClientId,width:`${i}px`,caid:r.clientAnalyticsId,phrase_export:c,...d},hash:{token:r.accessToken}})}),(0,e.jsx)(m,{children:"Loading..."}),c&&(0,e.jsx)(m,{children:"Loading..."})]})})}const g={component:()=>{let[r,o]=(0,t.useState)(null),{authenticated:i,user:n}=(0,a.u)(),{closePrivyModal:c,createAnalyticsEvent:p,clientAnalyticsId:u,client:y}=(0,l.u)(),h=(0,d.u)(),{data:f,onUserCloseViaDialogOrKeybindRef:g}=(0,a.a)(),{onFailure:x,onSuccess:m,origin:v,appId:b,appClientId:w,entropyId:I,entropyIdVerifier:C,walletId:j,hdWalletIndex:k,chainType:_,address:P,isUnifiedWallet:V,imported:T}=f.keyExport,E=e=>{c({shouldCallAuthOnSuccess:!1}),x("string"==typeof e?Error(e):e)},S=()=>{c({shouldCallAuthOnSuccess:!1}),m(),p({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:P}})};return(0,t.useEffect)(()=>{if(!i)return E("User must be authenticated before exporting their wallet");y.getAccessToken().then(o).catch(E)},[i,n]),g.current=S,(0,e.jsx)(s,{address:P,accessToken:r,appConfigTheme:h.appearance.palette.colorScheme,onClose:S,isLoading:!r,exportButtonProps:r?{origin:v,appId:b,appClientId:w,clientAnalyticsId:u,entropyId:I,entropyIdVerifier:C,walletId:j,hdWalletIndex:k,isUnifiedWallet:V,imported:T,chainType:_}:void 0})}};let x=r.styled.div.withConfig({displayName:"ButtonContainer",componentId:"sc-b9fde557-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),m=r.styled.div.withConfig({displayName:"LoadingButton",componentId:"sc-b9fde557-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"])},5711,[5,3,6277,4618,5712,5706,2509,2511,2508,5243,5713,7957,5244,2523,2524,2537,2539,2129,2293,2540,792,1019,2621,2622,5643,5707,5676,5669,2510,6275,5245,5246,5247,5248,5249,5250,5251]);