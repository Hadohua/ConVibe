__d(function(_g,r,_i,_a,_m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"LinkConflictScreen",{enumerable:!0,get:function(){return M}}),Object.defineProperty(_e,"LinkConflictScreenView",{enumerable:!0,get:function(){return N}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return M}});var n=r(_d[0]),t=e(r(_d[1])),o=e(r(_d[2])),s=r(_d[3]),a=r(_d[4]),i=r(_d[5]),c=r(_d[6]),l=r(_d[7]),d=r(_d[8]),u=r(_d[9]),f=r(_d[10]),h=r(_d[11]),p=r(_d[12]),x=e(r(_d[13])),g=e(r(_d[14]));r(_d[15]),r(_d[16]),r(_d[17]),r(_d[18]),r(_d[19]),r(_d[20]),r(_d[21]),r(_d[22]),r(_d[23]),r(_d[24]),r(_d[25]),r(_d[26]),r(_d[27]),r(_d[28]),r(_d[29]),r(_d[30]),r(_d[31]),r(_d[32]);const m=i.styled.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)");function y(e){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,n.jsx)("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const b=({onTransfer:e,isTransferring:t,transferSuccess:o})=>(0,n.jsx)(a.P,{...o?{success:!0,children:"Success!"}:{warn:!0,loading:t,onClick:e,children:"Transfer and delete account"}}),j=i.styled.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),w=i.styled.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),C=i.styled.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),v=(0,i.styled)(x.default).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:e})=>`${e}px`,({$iconSize:e})=>`${e}px`),T=(0,i.styled)(g.default).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),k=i.styled.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),S=i.styled.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),A=i.styled.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let I=()=>(0,n.jsx)(A,{children:(0,n.jsx)(v,{$iconSize:60})});const W=({address:e,onClose:t,onRetry:s,onTransfer:a,isTransferring:i,transferSuccess:l})=>{let{defaultChain:u}=(0,p.u)(),f=u.blockExplorers?.default.url??"https://etherscan.io";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.M,{onClose:t,backFn:s}),(0,n.jsxs)(j,{children:[(0,n.jsx)(I,{}),(0,n.jsxs)(w,{children:[(0,n.jsx)("h3",{children:"Check account assets before transferring"}),(0,n.jsx)("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),(0,n.jsxs)(k,{children:[(0,n.jsx)("p",{children:" To check your balance, you can:"}),(0,n.jsx)(S,{children:"Log out and log back into the other account, or "}),(0,n.jsxs)(S,{children:["Copy your wallet address and use a"," ",(0,n.jsx)("u",{children:(0,n.jsx)("a",{target:"_blank",href:f,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),(0,n.jsxs)(C,{onClick:()=>navigator.clipboard.writeText(e).catch(console.error),children:[(0,n.jsx)(o.default,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,n.jsx)(d.A,{address:e,showCopyIcon:!1}),(0,n.jsx)(T,{})]}),(0,n.jsx)(b,{onTransfer:a,isTransferring:i,transferSuccess:l})]})]}),(0,n.jsx)(c.B,{})]})},M={component:()=>{let{initiateAccountTransfer:e,closePrivyModal:t}=(0,u.u)(),{data:o,navigate:a,lastScreen:i,setModalData:c}=(0,f.a)(),[l,d]=(0,s.useState)(void 0),[h,p]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),m=async()=>{try{if(!o?.accountTransfer?.nonce||!o?.accountTransfer?.account)throw Error("missing account transfer inputs");g(!0),await e({nonce:o?.accountTransfer?.nonce,account:o?.accountTransfer?.account,accountType:o?.accountTransfer?.linkMethod,externalWalletMetadata:o?.accountTransfer?.externalWalletMetadata,telegramWebAppData:o?.accountTransfer?.telegramWebAppData,telegramAuthResult:o?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:o?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:o?.accountTransfer?.oAuthUserInfo}),p(!0),g(!1),setTimeout(t,1e3)}catch(e){c({errorModalData:{error:e,previousScreen:i||"LinkConflictScreen"}}),a("ErrorScreen",!0)}};return l?(0,n.jsx)(W,{address:l,onClose:t,onRetry:()=>d(void 0),onTransfer:m,isTransferring:x,transferSuccess:h}):(0,n.jsx)(N,{onClose:t,onInfo:()=>d(o?.accountTransfer?.embeddedWalletAddress),onContinue:()=>d(o?.accountTransfer?.embeddedWalletAddress),onTransfer:m,isTransferring:x,transferSuccess:h,data:o})}},N=({onClose:e,onContinue:o,onInfo:s,onTransfer:i,transferSuccess:d,isTransferring:u,data:f})=>{if(!f?.accountTransfer?.linkMethod||!f?.accountTransfer?.displayName)return;let p={method:f?.accountTransfer?.linkMethod,handle:f?.accountTransfer?.displayName,disclosedAccount:f?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:f?.accountTransfer?.embeddedWalletAddress}:void 0};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.M,{closeable:!0}),(0,n.jsxs)(j,{children:[(0,n.jsx)(l.e,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{color:"var(--privy-color-error)"}),(0,n.jsx)(t.default,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),(0,n.jsxs)(w,{children:[(0,n.jsxs)("h3",{children:[(function(e){switch(e){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitch":case"twitter":case"telegram":case"farcaster":return`${(0,h.e)(e.replace("_oauth",""))} profile`;default:return e.startsWith("privy:")?"Cross-app account":e}})(p.method)," is associated with another account"]}),(0,n.jsxs)("p",{children:["Do you want to transfer",(0,n.jsx)("b",{children:p.handle?` ${p.handle}`:""})," to this account instead? This will delete your other account."]}),(0,n.jsx)(z,{onClick:s,disclosedAccount:p.disclosedAccount})]}),(0,n.jsxs)(w,{style:{gap:12,marginTop:12},children:[f?.accountTransfer?.embeddedWalletAddress?(0,n.jsx)(a.P,{onClick:o,children:"Continue"}):(0,n.jsx)(b,{onTransfer:i,transferSuccess:d,isTransferring:u}),(0,n.jsx)(a.S,{onClick:e,children:"No thanks"})]})]}),(0,n.jsx)(c.B,{})]})};function z({disclosedAccount:e,onClick:t}){return e?(0,n.jsxs)(C,{onClick:t,children:[(0,n.jsx)(o.default,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,n.jsx)(d.A,{address:e.handle,showCopyIcon:!1}),(0,n.jsx)(y,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}},5760,[5,5713,5665,3,5244,6277,5246,5761,5676,2511,2508,5762,2509,5751,5763,2523,2524,2537,2539,2129,2293,2540,792,1019,2621,2622,5247,5248,5249,5250,7957,6275,2510]);