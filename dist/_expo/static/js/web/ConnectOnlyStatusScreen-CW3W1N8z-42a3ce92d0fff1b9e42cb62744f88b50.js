__d(function(_g,_r,_i,_a,_m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"ConnectOnlyStatusScreen",{enumerable:!0,get:function(){return w}}),Object.defineProperty(_e,"ConnectOnlyStatusScreenView",{enumerable:!0,get:function(){return d}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var e=_r(_d[0]),t=_r(_d[1]),n=_r(_d[2]),o=_r(_d[3]),a=_r(_d[4]),l=_r(_d[5]),r=_r(_d[6]),c=_r(_d[7]),i=_r(_d[8]),s=_r(_d[9]),u=_r(_d[10]);_r(_d[11]),_r(_d[12]),_r(_d[13]),_r(_d[14]),_r(_d[15]),_r(_d[16]),_r(_d[17]),_r(_d[18]),_r(_d[19]),_r(_d[20]),_r(_d[21]),_r(_d[22]),_r(_d[23]),_r(_d[24]),_r(_d[25]),_r(_d[26]),_r(_d[27]),_r(_d[28]),_r(_d[29]),_r(_d[30]),_r(_d[31]),_r(_d[32]),_r(_d[33]),_r(_d[34]),_r(_d[35]),_r(_d[36]),_r(_d[37]),_r(_d[38]),_r(_d[39]),_r(_d[40]),_r(_d[41]),_r(_d[42]),_r(_d[43]),_r(_d[44]),_r(_d[45]),_r(_d[46]),_r(_d[47]),_r(_d[48]),_r(_d[49]),_r(_d[50]),_r(_d[51]),_r(_d[52]);const d=({walletLogo:t,success:n,errorMessage:a,title:l,subtitle:r,onRetry:c,onUseDifferentWallet:s,onBack:u,numRetries:d,maxRetries:w})=>(0,e.jsx)(i.S,{title:l,subtitle:r,icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!a},primaryCta:a===o.C.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:s}:!n&&a?.retryable&&d<w?{label:"Retry",onClick:c,disabled:!a?.retryable||d>=w}:!n&&a&&d>=w?{label:"Use a different wallet",onClick:s}:void 0,onBack:u,watermark:!0}),w={component:()=>{let o,{navigateBack:i,navigate:w,lastScreen:f,currentScreen:m,data:p,setModalData:y}=(0,c.a)(),{walletConnectionStatus:g,closePrivyModal:b}=(0,r.u)(),[C,k]=(0,t.useState)(void 0),[S,h]=(0,t.useState)(0),v=(0,l.Q)(g?.connector?.walletClientType||"unknown"),T="connected"===g?.status,_="switching_to_supported_chain"===g?.status;(0,t.useEffect)(()=>{if(T){let e;if(p?.externalConnectWallet?.onCompleteNavigateTo){let t=p.externalConnectWallet.onCompleteNavigateTo,n=g.connectedWallet?.address;e=setTimeout(()=>{if(p.funding&&g.connector){let e=g.connector.wallets.find(e=>e.address===n);y({...p,funding:{...p.funding,connectedWallet:e}})}w(t({address:n,walletClientType:g.connector?.walletClientType,walletChainType:g.connector?.chainType}))},a.q)}else e=setTimeout(b,a.q);return()=>clearTimeout(e)}},[T]),(0,t.useEffect)(()=>{var e;g?.connectError&&(e=g?.connectError,k((0,u.getErrorDetails)(e)))},[g]);let R=g?.connector?.connectorType||"injected",x=g?.connector?.walletClientType||"unknown",E=v?.metadata?.shortName||v?.name||g?.connector?.walletBranding.name||"Browser Extension",B=v?.image_url?.md||g?.connector?.walletBranding.icon||(t=>(0,e.jsx)(s.B,{...t})),j="Browser Extension"===E?E.toLowerCase():E;o=T?`Successfully connected with ${j}`:C?C.message:_?"Switching networks":`Waiting for ${j}`;let M="Don\u2019t see your wallet? Check your other browser windows.";return T?M="You\u2019re good to go!":S>=2&&C?M="Unable to connect wallet":C?M=C.detail:_?M="Switch your wallet to the requested network.":"metamask"===x&&n.isMobile?M="Click to continue to open and connect MetaMask.":"metamask"===x?M="For the best experience, connect only one wallet at a time.":"wallet_connect_v2"===R?M="Open your mobile wallet app to continue":"coinbase_wallet"===R&&(M="Confirm in the Coinbase app/popup to continue."),(0,e.jsx)(d,{walletName:E,walletLogo:B,success:T,errorMessage:C,title:o,subtitle:M,onRetry:()=>{h(S+1),k(void 0),g?.connectRetry()},onUseDifferentWallet:i,onBack:m===f?void 0:i,numRetries:S,maxRetries:2})}}},5691,[5,3,2537,2539,2509,2523,2511,2508,5243,2128,5692,2129,2293,2510,2524,6277,2540,792,1019,2621,2622,6275,5244,5245,5246,5247,5248,5249,5250,5251,2310,2164,2623,2295,2683,2686,2689,2690,2691,2692,2900,4618,2341,4620,2132,4621,2326,7827,4873,4874,5683,5644,5253]);