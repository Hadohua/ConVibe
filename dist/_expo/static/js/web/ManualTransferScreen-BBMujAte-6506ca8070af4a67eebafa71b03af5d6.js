__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"ManualTransferScreen",{enumerable:!0,get:function(){return M}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return M}});var e=_r(d[0]),n=_r(d[1]),s=_r(d[2]),r=_r(d[3]),t=_r(d[4]),i=_r(d[5]),c=_r(d[6]),o=_r(d[7]),u=_r(d[8]),l=_r(d[9]),f=_r(d[10]),p=_r(d[11]),h=_r(d[12]),v=_r(d[13]),y=_r(d[14]),C=_r(d[15]),S=_r(d[16]),T=_r(d[17]),b=_r(d[18]),j=_r(d[19]),D=_r(d[20]),I=_r(d[21]),A=_r(d[22]),x=_r(d[23]),F=_r(d[24]);_r(d[25]),_r(d[26]),_r(d[27]),_r(d[28]),_r(d[29]),_r(d[30]),_r(d[31]),_r(d[32]),_r(d[33]),_r(d[34]),_r(d[35]),_r(d[36]),_r(d[37]),_r(d[38]),_r(d[39]),_r(d[40]),_r(d[41]),_r(d[42]),_r(d[43]),_r(d[44]),_r(d[45]),_r(d[46]),_r(d[47]),_r(d[48]),_r(d[49]),_r(d[50]),_r(d[51]),_r(d[52]),_r(d[53]),_r(d[54]),_r(d[55]),_r(d[56]),_r(d[57]),_r(d[58]),_r(d[59]),_r(d[60]),_r(d[61]),_r(d[62]),_r(d[63]),_r(d[64]),_r(d[65]),_r(d[66]);const M={component:()=>{let{wallets:M}=(0,b.u)(),{connectors:k}=(0,C.u)(),w=k.filter(y.v).flatMap(e=>e.wallets),{data:O,setModalData:$,navigate:B,lastScreen:E}=(0,S.a)(),{rpcConfig:P,appId:_,createAnalyticsEvent:L,closePrivyModal:z}=(0,C.u)(),N=(0,v.u)(),[R,W]=(0,n.useState)(void 0),[q,H]=(0,n.useState)(!1),Q=O?.funding,{reloadBalance:Y}=(0,T.u)({rpcConfig:P,appId:_,address:"ethereum"===Q.chainType?Q.address:void 0,chain:"ethereum"===Q.chainType?Q.chain:void 0}),G="solana"===Q.chainType,J=G?Q.isUSDC?"USDC":"SOL":Q.erc20Address?Q.erc20ContractInfo?.symbol:Q.chain.nativeCurrency.symbol,K=G?w.find(({address:e})=>e===Q.address):M.find(({address:e})=>(0,y.D)(e)===(0,y.D)(Q.address));if(!Q)return $({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:E||"FundingMethodSelectionScreen"},funding:O?.funding,solanaFundingData:O?.solanaFundingData,sendTransaction:O?.sendTransaction}),B("ErrorScreen"),(0,e.jsx)(e.Fragment,{});(0,n.useEffect)(()=>{let e=G?async function(){if("solana"!==Q.chainType)return;let e=N.solanaRpcs[Q.chain];e?(Q.isUSDC?(async function({rpc:e,address:n,mintAddress:s}){let r=await e.getTokenAccountsByOwner(n,{mint:s},{encoding:"jsonParsed",commitment:"confirmed"}).send(),t=r.value[0]?.account;return t?BigInt(t.data.parsed.info.tokenAmount.amount):0n})({rpc:e.rpc,address:Q.address,mintAddress:(0,A.g)(Q.chain)}):(0,D.z)({rpc:e.rpc,address:Q.address})).then(e=>{let n=BigInt(e);R&&n>R&&(H(!0),L({eventName:j.O,payload:{provider:"manual",status:"success",chainType:"solana",address:K?.address,value:Q.isUSDC?(0,s.formatUnits)(n-R,6):(0,s.formatUnits)(n-R,9),token:Q.isUSDC?"USDC":"SOL"}})),W(n)}):console.warn("Unable to load solana rpc, skipping balance")}:async function(){"ethereum"===Q.chainType&&(async()=>{if(!Q.erc20Address)return await Y()??BigInt(0);{let{balance:e}=await(0,F.g)({chain:Q.chain,address:Q.address,erc20Address:Q.erc20Address,rpcConfig:P,appId:_});return e}})().then(e=>{R&&e>R&&(H(!0),L({eventName:j.O,payload:{provider:"manual",status:"success",chainType:"ethereum",address:K?.address,chainId:Q.chain.id,value:(0,s.formatUnits)(e-R,Q.erc20ContractInfo?.decimals??18),token:Q.erc20ContractInfo?.symbol??Q.erc20Address??"ETH"}})),W(e)}).catch(()=>W(void 0))},n=setInterval(e,2e3);return e(),()=>clearInterval(n)},[R]);let V=(0,n.useMemo)(()=>null==R?"":Q.isUSDC?(0,r.formatTokenAmount)({amount:R,decimals:6}):G?(0,x.g)(R,3,!0,!0):null!=Q.erc20ContractInfo?.decimals?(0,r.formatTokenAmount)({amount:R,decimals:Q.erc20ContractInfo.decimals}):(0,r.formatWeiAmount)({wei:R}),[R,G,Q]),X="ethereum"===Q.chainType?Q.chain.name:(0,I.g)(Q.chain),Z=(0,n.useMemo)(()=>""===Q.uiConfig?.receiveFundsTitle?null:(0,e.jsx)(p.T,{children:Q.uiConfig?.receiveFundsTitle??`Receive ${Q.amount} ${J??""}`.trim()}),[Q.uiConfig?.receiveFundsTitle,Q.amount,J]),ee=(0,n.useMemo)(()=>""===Q.uiConfig?.receiveFundsSubtitle?null:(0,e.jsx)(f.S,{children:Q.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${X}.`}),[Q.uiConfig?.receiveFundsSubtitle,X]),ne="solana"===Q.chainType&&Q.isUSDC&&(0,A.g)(Q.chain)?`?spl-token=${(0,A.g)(Q.chain)}`:"";return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(u.t,{}),Z,ee,(0,e.jsxs)(i.F,{style:{gap:"1rem",margin:Z||ee?"1rem 0":"0"},children:[(0,e.jsx)(o.Q,{url:`${Q.chainType}:${Q.address}${ne}`,size:200,squareLogoElement:U}),(0,e.jsxs)(l.I,{theme:N.appearance.palette.colorScheme,children:["Make sure to send funds on ",X,"."]}),(0,e.jsx)(h.W,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${V} ${J}`,address:Q.address}),q&&(0,e.jsx)(t.P,{onClick:()=>z({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),(0,e.jsx)(c.B,{})]})}};let U=({...n})=>(0,e.jsx)(D.D,{color:"black",...n})},5768,[5,3,792,2129,5244,5648,5246,5584,5650,5752,5663,5664,5706,2509,2523,2511,2508,5769,2622,5653,2128,5655,5745,5656,5659,6277,5247,5248,5249,5250,5640,5753,7957,5643,5707,5676,5669,2510,2524,2537,2539,2293,2540,1019,2621,6275,2310,2164,2623,2295,2683,2686,2689,2690,2691,2692,2900,4618,2341,4620,2132,4621,2326,7827,4873,4874,5657]);