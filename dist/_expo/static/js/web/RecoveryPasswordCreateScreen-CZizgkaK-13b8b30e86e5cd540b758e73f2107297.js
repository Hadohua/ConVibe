__d(function(_g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"EmbeddedWalletPasswordCreateScreen",{enumerable:!0,get:function(){return d}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return d}});var e=r(_d[0]),t=r(_d[1]),s=r(_d[2]),n=r(_d[3]),o=r(_d[4]),l=r(_d[5]),u=r(_d[6]),c=r(_d[7]);r(_d[8]),r(_d[9]),r(_d[10]),r(_d[11]),r(_d[12]),r(_d[13]),r(_d[14]),r(_d[15]),r(_d[16]),r(_d[17]),r(_d[18]),r(_d[19]),r(_d[20]),r(_d[21]),r(_d[22]),r(_d[23]),r(_d[24]),r(_d[25]),r(_d[26]),r(_d[27]),r(_d[28]),r(_d[29]),r(_d[30]),r(_d[31]),r(_d[32]),r(_d[33]),r(_d[34]),r(_d[35]),r(_d[36]),r(_d[37]),r(_d[38]),r(_d[39]),r(_d[40]),r(_d[41]),r(_d[42]),r(_d[43]),r(_d[44]),r(_d[45]),r(_d[46]),r(_d[47]),r(_d[48]),r(_d[49]),r(_d[50]),r(_d[51]),r(_d[52]),r(_d[53]),r(_d[54]),r(_d[55]),r(_d[56]),r(_d[57]),r(_d[58]),r(_d[59]),r(_d[60]),r(_d[61]),r(_d[62]),r(_d[63]),r(_d[64]);const d={component:()=>{let{navigate:d,data:h,onUserCloseViaDialogOrKeybindRef:w}=(0,u.a)(),y=(0,s.u)(),[f,S]=(0,t.useState)(""),[p,v]=(0,t.useState)(!1),[b,g]=(0,t.useState)(),[P,C]=(0,t.useState)(null),{create:O}=(0,l.u)(),{authenticated:U,user:x}=(0,u.u)(),{closePrivyModal:E,isNewUserThisSession:A,initializeWalletProxy:M}=(0,o.u)(),{onSuccess:T,onFailure:I,callAuthOnSuccessOnClose:j,shouldCreateEth:W,shouldCreateSol:_}=h.createWallet,[R,L]=(0,t.useState)(null),N=new n.R(async()=>{try{let e;if(W&&_)e=await O({recoveryMethod:"user-passcode",recoveryPassword:b,chainType:"ethereum",walletIndex:0,latestUser:x}),e=await O({chainType:"solana",walletIndex:0,latestUser:e.user});else if(_)e=await O({recoveryMethod:"user-passcode",recoveryPassword:b,chainType:"solana",walletIndex:0,latestUser:x});else{if(!W)throw Error("Invalid args to create wallet");e=await O({recoveryMethod:"user-passcode",recoveryPassword:b,chainType:"ethereum",walletIndex:0,latestUser:x})}L(e),A?d("EmbeddedWalletCreatedScreen"):(T(e),E({shouldCallAuthOnSuccess:j}))}catch(e){S(e.message)}});return(0,t.useEffect)(()=>{P||M(3e4).then(e=>C(e))},[P]),(0,t.useEffect)(()=>{if(!U||!x)return d("LandingScreen"),void I(Error("User must be authenticated before creating a Privy wallet"))},[U]),w.current=()=>null,(0,e.jsx)(c.S,{config:{initiatedBy:"automatic"},appName:y?.name||"privy",loading:!P,buttonLoading:p,buttonHideAnimations:!R&&p,isResettingPassword:!1,error:f,password:b||"",onClose:()=>{R&&"user-passcode"!==R.account.recoveryMethod?(I(new o.m("User created a wallet but failed to set a password for it")),E({shouldCallAuthOnSuccess:!1})):R?(T(R),E({shouldCallAuthOnSuccess:j})):(I(new o.m("User wallet creation failed")),E({shouldCallAuthOnSuccess:!1}))},onPasswordChange:g,onPasswordGenerate:()=>g((0,c.g)()),onSubmit:async()=>(v(!0),N.execute().then(()=>new Promise(e=>setTimeout(e,250))).finally(()=>v(!1)))})}}},5716,[5,3,2509,2128,2511,5715,2508,5717,2129,2510,2310,2164,2293,2523,2524,6277,2537,2539,2540,792,1019,2621,2622,2623,2295,2683,2686,2689,2690,2691,2692,2900,4618,6275,2341,4620,2132,4621,2326,7827,4873,4874,5713,5648,5246,5247,5248,5249,5250,5718,5719,5720,5721,5244,5722,5723,5688,9692,5725,5729,5730,5731,5732,5733,5649]);